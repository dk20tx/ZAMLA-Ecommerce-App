{% load static %}

<header>
    <div class="container " >
    <div class="overlay"></div>
    <div class="utility-nav d-none d-md-block">
        <div class="row">
        <div class="col-12 col-md-6">
            <p class="small float-start"><em class="bx bx-envelope"></em> logo@gmail.com | <i class="bx bx-phone"></i> +254-765432110
            </p>
        </div>

        <div class="col-12 col-md-6">
            <p class="small float-end">Free shipping on total of Ksh.10,000 of all products</p>
        </div>
        </div>
    </div>


    <nav class="navbar navbar-expand-md navbar-light bg-light main-menu px-0" style="box-shadow:none">
    <div class="container p-0">
        <button type="button" id="sidebarCollapse" class="btn btn-link d-block d-md-none px-0 py-1" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="bx bx-menu icon-single"></span>
        </button>
        <a class="" href="{% url 'home' %}">
        <h4 class="font-weight-bold text-uppercase py-2">Zamla</h4>
        </a>

        <ul class="navbar-nav navbar-nav ml-auto d-block d-md-none">
            <li class="nav-item p-0">
                <a class="btn btn-outline-body bg-body border-0 basket-btn" href="{% url 'cart' %}">
                    <div id="basket-qty" class="basket-qty">          
                        <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light px-2 py-0">           
                            {{cart_count}}
                        </span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                        </svg>
                    </div>
                </a>  
            </li>          
        </ul>

        <div class="collapse navbar-collapse">
        <form class="form-inline my-2 my-lg-0 mx-auto pt-3" action="{% url 'search' %}" class="search" method='GET'>
            <div class="input-group w-100 d-flex flex-nowrap bd-highlight">
                <input type="text" class="form-control order-1 p-2 bd-highlight" style="width:50%;" placeholder="Search for products..." name="keyword"/>			
				<button class="btn btn-success my-2 my-sm-0 order-2 p-2 bd-highlight" type="submit">Search</i></button>	
			</div>        
        </form>
    
        

        <ul class="navbar-nav">
            <li class="nav-item pe-3">
                <a class="btn btn-outline-body bg-body border-0 basket-btn" href="{% url 'cart' %}">          
                    <div id="basket-qty" class="basket-qty ">
                        <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light px-2 py-1">
                            {{cart_count}}
                        </span>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                        </svg>
                    </div>
                </a>  
            </li>
            {% if user.id is None %}
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">Login</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'register' %}">Register</a></li>
            {% else %}
                <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" id="pagesDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Hi, {{user.first_name}}</a>  
                    <div class="dropdown-menu mt-3" aria-labelledby="pagesDropdown">
                        <a class="dropdown-item border-0 transition-link" href="{% url 'dashboard' %}">Profile</a>
                        <a class="dropdown-item border-0 transition-link" href="{% url 'cart' %}">Cart</a>
                        <a class="dropdown-item border-0 transition-link" href="{% url 'my_orders' %}">Orders</a>
                        <hr/>
                        <a class="dropdown-item border-0 transition-link" href="{% url 'logout' %}">Log Out</a>
                    </div>
                </li>
            {% endif %}
        </ul>
        </div>

    </div>
    </nav>

    <nav class="navbar navbar-expand-md navbar-light bg-light sub-menu" style="box-shadow:none">
    <div class="container p-0">
        <div class="collapse navbar-collapse" id="navbar">
        <ul class="navbar-nav mx-auto">
            <li class="nav-item active">
                <a class="nav-link" href="{% url 'home' %}">Home</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="{% url 'store' %}">Store</a>
            </li>
    
            <li class="nav-item">
                <a class="nav-link" >Contact</a>
            </li>
        </ul>
        </div>
    </div>
    </nav>

    <div class="search-bar d-md-none" style="box-shadow:none">
        <div class="row">
            <div class="col-12">
                <form class="form-inline my-2 my-lg-0 mx-auto pt-3" action="{% url 'search' %}" class="search" method='GET'>
            <div class="input-group w-100 d-flex flex-nowrap bd-highlight">
                <input type="text" class="form-control order-1 p-2 bd-highlight" style="width:50%;" placeholder="Search for products..." name="keyword"/>			
				<button class="btn btn-success my-sm-0 order-2 pt-2 pl-3 bd-highlight" type="submit"><i class="bx bx-search"></i></button>	
			</div>        
        </form>
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <nav id="sidebar">
    <div class="sidebar-header">
        <div class="container">
        <div class="row align-items-center">
            <div class="col-10 pl-0">
            {% if user.id is None %}      
                <a class="btn btn-success" href="{% url 'login' %}"><i class="bx bxs-user-circle mr-1"></i> Log In</a>
            {% else %}
                <a class="btn btn-success" href="{% url 'logout' %}"><i class="bx bxs-user-circle mr-1"></i> Log Out</a>
            {% endif %}</div>

            <div class="col-2 text-left">
                <button type="button" id="sidebarCollapseX" class="btn btn-link">
                    <i class="bx bx-x icon-single"></i>
                </button>
            </div>
        </div>
        </div>
    </div>

    <ul class="list-unstyled components links">
        <li class="active">
        <a href="{% url 'home' %}"><i class="bx bx-home mr-3"></i> Home</a>
        </li>
        <li>
        <a href="{% url 'store' %}"><i class="bx bx-carousel mr-3"></i> Store</a>
        </li>
        <li>
        <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bx bx-help-circle mr-3"></i>
                        Support</a>
        <ul class="collapse list-unstyled" id="pageSubmenu">
            <li>
            <a href="#">Delivery Information</a>
            </li>
            <li>
            <a href="#">Privacy Policy</a>
            </li>
            <li>
            <a href="#">Terms & Conditions</a>
            </li>
        </ul>
        </li>
        <li>
            <a href="#"><i class="bx bx-phone mr-3"></i> Contact</a>
        </li>
    </ul>

    <h6 class="text-uppercase mb-1">Categories</h6>
    <ul class="list-unstyled components mb-3">
        <div class="collapse show border list-group " id="collapseExample">
								<div class="card-body">	
										
										{% for category in links %}								
											<a href="{{ category.get_url }}">
												<div class="py-2 px-4 {% if category == category %} text-success {% else %}bg-light{% endif %} mb-3">
													<strong class=" text-uppercase font-weight-bold">{{ category.category_name }}</strong>
												</div>  
											</a>
										{% endfor %}
										<hr/>
										<a class="py-2 px-4 {% if category == category %} text-dark {% else %}bg-light{% endif %} mb-3 " href="{% url 'store' %}"><strong class=" text-uppercase font-weight-bold">All Products </strong> </a>								
									
								</div>
							</div>
        
    </ul>

    <ul class="social-icons">
        <li><a href="#" target="_blank" title=""><i class="bx bxl-facebook-square"></i></a></li>
        <li><a href="#" target="_blank" title=""><i class="bx bxl-twitter"></i></a></li>
        <li><a href="#" target="_blank" title=""><i class="bx bxl-linkedin"></i></a></li>
        <li><a href="#" target="_blank" title=""><i class="bx bxl-instagram"></i></a></li>
    </ul>

    </nav>
</div>
</header>
